<!DOCTYPE  html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Scientific Calculator</title>
    <style>
        .calculator{
    background-color:#5b4f5fde;
    width: 300px;height: 550px; 
    border-radius:4px;
    box-shadow:inset 0px 10px 200px rgba(0, 0, 0, 0.5);
}
#display{
    height:60px;
    width:240px;
    background:white;
    color:black;
    margin-top:35px;
    margin-left:25px;
    box-shadow:inset 0px 0px 5px rgba(0, 0, 0, 0.5);
}
#sin, #cos, #tan, #asin, #acos, #atan, #log, #lbrkt, #rbrkt, #exp, #sqrt, #fact, #sinh, #cosh, #tanh, #reci, #pow, #frac, #toggle{
    background-color:black;
    color:white;
    width: 40px;height: 30px;
    
}
#add, #subtr, #mult, #divid{
    background-color:#ff9595;
}
#del, #clr{
    background:red;
    width: 40px;height: 30px;
}
.buttons{
    height:80px;
    width:300px;
    padding:5px;5px;5px;5px;
    margin-top:50px;
    margin-left:10px;
    margin-right:10px;
    
       
}
button{
    width: 50px;height: 40px;
    border-radius:5px;
    background-color:grey;
    color:black;
    cursor:pointer;
    margin:5px;
}
button:hover{
    background-color:"#3e8e41;
} 
    </style>
</head>
<body>
    <div class="calculator">
        <input type="text" id="display" disabled>
        <div class="buttons">
            
            <button id="sin">sin</button>
            <button id="cos">cos</button>
            <button id="tan">tan</button>
            <button id="sinh">sinh</button>
            <button id="cosh">cosh</button>
            <button id="tanh">tanh</button>
            <button id="asin">sin⁻¹</button>
            <button id="acos">cos⁻¹</button>
            <button id="atan">tan⁻¹</button>
            <button id="log">log</button>
            <button id="frac">a/b</button>
            <button id="sqrt">√</button>
            <button id="pow">^</button>
            <button id="lbrkt">(</button>
            <button id="rbrkt">)</button>
            <button id="exp">e</button>
            <button id="fact">x!</button>
            <button id="reci">x⁻¹</button>
            <button id="del">DEL</button>
            <button id="clr">C</button>
            <button id="1">1</button>
            <button id="2">2</button>
            <button id="3">3</button>
            <button id="add">+</button>
            <button id="4">4</button>
            <button id="5">5</button>
            <button id="6">6</button>
            <button id="subtr">-</button>
            <button id="7">7</button>
            <button id="8">8</button>
            <button id="9">9</button>
            <button id="mult">×</button>
            <button id="decimal">.</button>
            <button id="0">0</button>
            <button id="equals">=</button>
            <button id="divid">÷</button>
           
        </div>
    </div>
    <script>
        const display=document.getElementById('display');

//Number buttons
document.getElementById('0').addEventListener('click', ()=>display.value+='0');
document.getElementById('1').addEventListener('click', ()=>display.value+='1');
 document.getElementById('2').addEventListener('click', ()=>display.value+='2');
 document.getElementById('3').addEventListener('click', ()=>display.value+='3');
document.getElementById('4').addEventListener('click', ()=>display.value+='4');

document.getElementById('5').addEventListener('click', ()=>display.value+='5');

document.getElementById('6').addEventListener('click', ()=>display.value+='6');

document.getElementById('7').addEventListener('click', ()=>display.value+='7');

document.getElementById('8').addEventListener('click', ()=>display.value+='8');

document.getElementById('9').addEventListener('click', ()=>display.value+='9');


//Delete button
document.getElementById('del').addEventListener('click', ()=>
    {
display.value=display.value.slice(0,-1); 
});


//Equals button 
document.getElementById('equals').addEventListener('click', ()=>
    {
        //Evaluate the expression in the display
        try{
            
        display.value=eval(display.value);
        }catch(e){
            display.value="syntax error";
        }
    });
    

//Operators
document.getElementById('add').addEventListener('click', ()=>display.value+='+');
document.getElementById('subtr').addEventListener('click', ()=>display.value+='-');
document.getElementById('mult').addEventListener('click', ()=>display.value+='*');
document.getElementById('divid').addEventListener('click', ()=>display.value+='/');

//Trigonometric functions 
document.getElementById('sin').addEventListener('click', () => {
  const currentValue = display.value;
  if (currentValue !== '') {
    const result = Math.sin(parseFloat(currentValue)*Math.PI / 180);
    display.value=result;
  }
});

document.getElementById('cos').addEventListener('click', () => {
  const currentValue = display.value;
  if (currentValue !== '') {
    const result = Math.cos(parseFloat(currentValue) * Math.PI / 180);
    display.value = result;
  }
});

document.getElementById('tan').addEventListener('click', () => {
  const currentValue = display.value;
  if (currentValue !== '') {
    const result = Math.tan(parseFloat(currentValue) * Math.PI / 180);
    display.value = result;
  }
});


//clear all
document.getElementById('clr').addEventListener('click', ()=>{
    display.value="";
})


//Hyperbolic functions
document.getElementById('sinh').addEventListener('click', () => {
  const currentValue = display.value;
  if (currentValue !== '') {
    const result = Math.sinh(parseFloat(currentValue)*Math.PI / 180);
    display.value=result;
  }
});

document.getElementById('cosh').addEventListener('click', () => {
  const currentValue = display.value;
  if (currentValue !== '') {
    const result = Math.cosh(parseFloat(currentValue) * Math.PI / 180);
    display.value = result;
  }
});

document.getElementById('tanh').addEventListener('click', () => {
  const currentValue = display.value;
  if (currentValue !== '') {
    const result = Math.tanh(parseFloat(currentValue) * Math.PI / 180);
    display.value = result;
  }
});


//Inverse trigonometric functions 
document.getElementById('asin').addEventListener('click', () => {
  const value = Math.asin(parseFloat(display.value))*(180 /Math.PI);   
    display.value=value;
});

document.getElementById('acos').addEventListener('click', () => {
  const value = Math.acos(parseFloat(display.value))*(180 /Math.PI);   
    display.value=value;
});

document.getElementById('atan').addEventListener('click', () => {
  const value = Math.atan(parseFloat(display.value))*(180 /Math.PI);   
    display.value=value;
});


//brackets 
document.getElementById('lbrkt').addEventListener('click', ()=>display.value+='('); 

document.getElementById('rbrkt').addEventListener('click', ()=>display.value+=')');


//Change to vulgar fraction 
document.getElementById('frac').addEventListener('click', () => {
  const currentValue = display.value;
  if (currentValue.includes('.')) {
    const decimalValue = parseFloat(currentValue);
    const fraction = decimalToFraction(decimalValue);
    display.value = fraction;
  }
});

function decimalToFraction(decimal) {
  const whole = Math.floor(decimal);
  const fractionPart = decimal - whole;
  const precision = 10; // adjust precision as needed
  const denominator = precision;
  const numerator = Math.round(fractionPart * precision);
  const gcd = greatestCommonDivisor(numerator, denominator);
  return `${whole} ${numerator / gcd}/${denominator / gcd}`;
}

function greatestCommonDivisor(a, b) {
  if (b === 0) {
    return a;
  }
  return greatestCommonDivisor(b, a % b);
}


//Decimal point 
document.getElementById('decimal').addEventListener('click', ()=>display.value+='.');


//Common Logarithm 
document.getElementById('log').addEventListener('click', () => {
  const currentValue = display.value;
  if (currentValue !== '') {
    const base = prompt('Enter the base for the logarithm (default is 10)');
    const result = Math.log(parseFloat(currentValue)) / Math.log(parseFloat(base || 10));
    display.value = result;
  }
});


//Exponential function 
document.getElementById('exp').addEventListener('click', () => {
  const currentValue = display.value;
  if (currentValue !== '' && parseFloat(currentValue) >= 0) {
    const result = Math.exp(parseFloat(currentValue));
    display.value = result;
  } else {
    display.value = 'Error';
  }
});


//Factorial 
document.getElementById('fact').addEventListener('click', () => {
function calculateFactorial(n) {
  if (n === 0 || n === 1) {
    return 1;
  } else {
    return n * calculateFactorial(n - 1);
  }
}
  const currentValue = display.value;
  if (currentValue !== '') {
    const factorialResult = calculateFactorial(currentValue);
    display.value = factorialResult;
  }
});


//Square root
document.getElementById('sqrt').addEventListener('click', () => {
  const currentValue = display.value;
  if (currentValue !== '' && parseFloat(currentValue) >= 0) {
    const result = Math.sqrt(parseFloat(currentValue));
    display.value = result;
  } else {
    display.value = 'Error';
  }
});


//Reciprocal 
document.getElementById('reci').addEventListener('click', () => {
  const currentValue = display.value;
  if (currentValue !== '' && currentValue !== '0') {
    display.value = 1 / parseFloat(currentValue);
  }
});


//Raised to power
const btnPower = document.getElementById('pow');
btnPower.addEventListener('click', () => {
  const value = parseFloat(display.value);
  const exponent = parseFloat(prompt('Enter the exponent:'));
  const result = Math.pow(value, exponent);
  display.value = result;
});

    </script>
</body>
</html>
